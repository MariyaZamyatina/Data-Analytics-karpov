# Проект
Вы – единственный аналитик в компании, на которого легла ответственность за поиск инсайтов в данных продуктовых магазинов вашей компании. На повестке 3 задачи:

## Задание 1
В [файле](https://stepik.org/media/attachments/lesson/409319/test1_completed.csv) содержится информация о покупках людей


| id | Товар    | Количество |
|----|----------|------------|
| 1  | Арбуз    | 1.0        |
| 1  | Чай      | 1.0        |
| 1  | Сгущенка | 0.5        |
| 2  | Арбуз    | 3.0        |
| 2  | Чай      | 1.0        |

* id – означает покупку (в одну покупку входят все товары, купленные пользователем во время 1 похода в магазин)
* Товар – наименование товара
* Количество – число единиц купленного товара

Воспользуйтесь этими данными и выясните, какие пары товаров пользователи чаще всего покупают вместе. По сути, вам необходимо найти паттерны покупок, что позволит оптимизировать размещение продуктов в магазине, для удобства пользователей и увеличения выручки.

| 1_Товар | 2_Товар  | Встречаемость |
|---------|----------|---------------|
| Чай     | Арбуз    | 2             |
| Арбуз   | Сгущенка | 1             |
| Чай     | Сгущенка | 1             |


* 1_Товар – наименование первого товара
* 2_Товар – наименование второго товара
* Встречаемость – число раз, когда такая пара была встречена

Другими словами: 2 раза люди покупали одновременно чай и арбуз, 1 раз одновременно покупали арбуз и сгущёнку и 1 раз одновременно были куплены чай со сгущёнкой.

Напишите код на python для получения нужной таблицы и укажите 5 наиболее распространённых паттернов.

[**РЕШЕНИЕ**](https://nbviewer.jupyter.org/github/MariyaZamyatina/Data-Analytics-karpov/blob/main/FINAL_PROJECT/Task_1.ipynb)

## Задание 2

К вам поступила информация о числе заказов за прошедшие 3 месяца с разрешением по неделям. Постройте (если это возможно) прогноз продаж на следующие 3 месяца, с учётом того, что в неделю с 2020-02-02 по 2020-02-09 была проведена массивная акция, повысившая число заказов на 7%

| Дата       | Число заказов |
|------------|---------------|
| 2020-01-05 | 650           |
| 2020-01-12 | 837           |
| 2020-01-19 | 1020          |
| 2020-01-26 | 1176          |
|2020-02-02  | 1489          |
|2020-02-09  |	1823         |
|2020-02-16  |	1991         |
|2020-02-23  |	2166         |
|2020-03-01  |	2334         |
|2020-03-08  |	2607         |
|2020-03-15  |	2734         |
|2020-03-22  |	3492         |
|2020-03-29  |	3608         |
|2020-04-05  |	3857         |

Данные продублированы в [файле](https://stepik.org/media/attachments/lesson/426638/test2_completed.csv)

[**РЕШЕНИЕ**](https://nbviewer.jupyter.org/github/MariyaZamyatina/Data-Analytics-karpov/blob/main/FINAL_PROJECT/Task_2.ipynb)

## Задание 3
В базе данных вашей компании присутствуют следующие таблицы

**city**

* city_id – id города, где проходит акция
* client_city_id – id города, где находится покупатель
* city – город
* client_city – город, где находится покупатель

**client**

* client_id – id покупателя
* client_city_id – id города, где находится покупатель
* birth_date – дата рождения покупателя
* registration – дата регистрации покупателя

**promotion**

* promotion_id – id акции
* category_id – id категории
* promotion_name – акция
* category_name – категория
* partner_id – id партнёра
* partner_name – партнёр

**purchase**

* purchase_id – id покупки
* partner_id – id партнёра
* client_id – id покупателя
* city_id – id города
* promotion_id – id акции
* category_id – id категории
* purchase_date – дата покупки
* price – цена за единицу товара
* quantity – число проданных единиц
* status – статус покупки

Вам нужно написать запрос, чтобы получить такую таблицу:

* purchase_date – дата покупки
* purchase_id – id покупки
* client_id – id покупателя
* client_age – возраст покупателя
* client_registration_age – как долго человек пользуется вашими магазинами
* client_category – содержит new или old, если это первая или последующая покупка соответственно
* promotion_name – акция
* category_name – категория
* partner_name – партнёр
* client_city – город, где находится покупатель
* city – город
* revenue – сумма выручки
* quantity – число проданных единиц

При этом в таблице должны присутствовать только значения, где в поле status стоит значение 1, и только те, где purchase_date находится в диапазоне от 01.05.2020 до 01.08.2020.

База данных доступна по имени project_variant_2.

[**РЕШЕНИЕ**](https://nbviewer.jupyter.org/github/MariyaZamyatina/Data-Analytics-karpov/blob/main/FINAL_PROJECT/Task_3.ipynb)
